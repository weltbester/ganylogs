<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ganysyslogs: /Users/georg/Nextcloud/Programming/c/ganysyslogs/ganysyslogs.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ganymedes.gif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ganysyslogs
   </div>
   <div id="projectbrief">Tool for new syslog messages</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ganysyslogs_8c.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">/Users/georg/Nextcloud/Programming/c/ganysyslogs/ganysyslogs.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ada0430ff0133c72d1ab38ca336610f5a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ganysyslogs_8c.html#ada0430ff0133c72d1ab38ca336610f5a">clrscr</a>()&#160;&#160;&#160;printf(&quot;clrscr() - Fehler!!\n&quot;)</td></tr>
<tr class="memdesc:ada0430ff0133c72d1ab38ca336610f5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tool to identify new syslog messages.  <a href="#ada0430ff0133c72d1ab38ca336610f5a">More...</a><br /></td></tr>
<tr class="separator:ada0430ff0133c72d1ab38ca336610f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a18041017fee1662c2c835d151cb636"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ganysyslogs_8c.html#a7a18041017fee1662c2c835d151cb636">POSIX_SOURCE</a></td></tr>
<tr class="memdesc:a7a18041017fee1662c2c835d151cb636"><td class="mdescLeft">&#160;</td><td class="mdescRight">for getlogin()  <a href="#a7a18041017fee1662c2c835d151cb636">More...</a><br /></td></tr>
<tr class="separator:a7a18041017fee1662c2c835d151cb636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2af475b85aef66019c417d8ded1c435"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ganysyslogs_8c.html#af2af475b85aef66019c417d8ded1c435">SENTINEL</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:af2af475b85aef66019c417d8ded1c435"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6cab62dea664335f3e32d126c7e295ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ganysyslogs_8c.html#a6cab62dea664335f3e32d126c7e295ad">createHostlist</a> (FILE *fp)</td></tr>
<tr class="memdesc:a6cab62dea664335f3e32d126c7e295ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a list with (Router) hostnames.  <a href="#a6cab62dea664335f3e32d126c7e295ad">More...</a><br /></td></tr>
<tr class="separator:a6cab62dea664335f3e32d126c7e295ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f50841657c2700d6f9ab7efd7323c20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ganysyslogs_8c.html#a3f50841657c2700d6f9ab7efd7323c20">showHostNames</a> (FILE *fp)</td></tr>
<tr class="separator:a3f50841657c2700d6f9ab7efd7323c20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a883a01833404b539a610fcd771970c53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ganysyslogs_8c.html#a883a01833404b539a610fcd771970c53">deleteHostList</a> (FILE *fp, char *file)</td></tr>
<tr class="separator:a883a01833404b539a610fcd771970c53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a720f88439831cd4170ae7076bdeac21a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ganysyslogs_8c.html#a720f88439831cd4170ae7076bdeac21a">createCronJob</a> ()</td></tr>
<tr class="memdesc:a720f88439831cd4170ae7076bdeac21a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a cronjob entry for AIX Unix.  <a href="#a720f88439831cd4170ae7076bdeac21a">More...</a><br /></td></tr>
<tr class="separator:a720f88439831cd4170ae7076bdeac21a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8104259930e60c68ccfeafb7246ca6a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ganysyslogs_8c.html#a8104259930e60c68ccfeafb7246ca6a7">append2list</a> (void)</td></tr>
<tr class="memdesc:a8104259930e60c68ccfeafb7246ca6a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Append syslog messages to a textfile.  <a href="#a8104259930e60c68ccfeafb7246ca6a7">More...</a><br /></td></tr>
<tr class="separator:a8104259930e60c68ccfeafb7246ca6a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217dbf8b442f20279ea00b898af96f52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ganysyslogs_8c.html#a217dbf8b442f20279ea00b898af96f52">main</a> (int argc, const char **argv)</td></tr>
<tr class="separator:a217dbf8b442f20279ea00b898af96f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ada0430ff0133c72d1ab38ca336610f5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada0430ff0133c72d1ab38ca336610f5a">&#9670;&nbsp;</a></span>clrscr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define clrscr</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;printf(&quot;clrscr() - Fehler!!\n&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tool to identify new syslog messages. </p>
<p>Brief ganysyslog description.</p>
<p>Here comes more... File: <a class="el" href="ganysyslogs_8c.html">ganysyslogs.c</a></p>
<p>Author: Manfred Jaede &amp; Georg Pohl, 70174 Stuttgart</p>
<p>Create date: 8th of November 2020</p>
<p>Version: 1.0</p>
<p>Last Change: 13th of November 2020</p>
<hr/>
<p> This program can be used to identify unknown syslog messages, when you introduce a new router software. It is meant to be used durch den Product Validation (PV) time only. Therefore you feed the program with the involved router hostnames, so that it can browse through the recent logfile and grep out every syslog message of the before defined hosts.</p>
<p>Every message is then compared with the 'blacklist'- and a 'whitelist' file.</p>
<ol type="1">
<li>If it is found in 'blacklist', the message is known but regarded as not-remarkable and the original message is skipped.</li>
<li>If it is found in the 'whitelist' it is already know and declared as remarkable and therfore under control. So no further processing needed and therefore also skipped.</li>
<li>The message is neither known in the 'blacklist' nor the 'whitelist' means we are dealing with an unknown message here. This message is send to the initiator of the script via e-Mail for further investigation. Depending on the importance of the syslog message, it then copied either to the 'black-' or 'whitelist'.</li>
</ol>
<p>'blacklist': contains log messages which are not transferred to the "MONITORING SYSTEM".</p>
<p>'whitelist': contains log messages which are importand and have to be transferred to the "MONITORING SYSTEM".</p>
<p>Copyright (C) 2020 Manfred Jaede, CAN Georg Pohl&lt; for getlogin() </p>

</div>
</div>
<a id="a7a18041017fee1662c2c835d151cb636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a18041017fee1662c2c835d151cb636">&#9670;&nbsp;</a></span>POSIX_SOURCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POSIX_SOURCE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>for getlogin() </p>

</div>
</div>
<a id="af2af475b85aef66019c417d8ded1c435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2af475b85aef66019c417d8ded1c435">&#9670;&nbsp;</a></span>SENTINEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SENTINEL&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8104259930e60c68ccfeafb7246ca6a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8104259930e60c68ccfeafb7246ca6a7">&#9670;&nbsp;</a></span>append2list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void append2list </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Append syslog messages to a textfile. </p>
<p>Copyright November 2020: Georg Pohl, 70174 Stuttgart </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">(void)</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(void)</dd></dl>
<p>In this function you can append a syslog message signature to one of two existing syslogfiles - the blacklist or the whitelist - by chosing option 'b' or 'w', respectively.</p>
<p>You can add more signatures (Y/y) or quit (N/n) the function. Deleting a syslog signature from a certain list is not possible.</p>
<p>Before all that a copy of the original textfile is made as a backup. </p>

</div>
</div>
<a id="a720f88439831cd4170ae7076bdeac21a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a720f88439831cd4170ae7076bdeac21a">&#9670;&nbsp;</a></span>createCronJob()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int createCronJob </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a cronjob entry for AIX Unix. </p>
<p>Copyright November 2020: Georg Pohl, 70174 Stuttgart </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">(void)</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EXIT_SUCCESS, when call was successful </dd>
<dd>
EXIT_FAILURE, when call was unsuccessful</dd></dl>
<p>This function call creates a string for a crontab entry. The users has the to copy this string and put it in its own crontab file manually (Will be improved).</p>
<p>The string is always the same and will setup a call to Manfreds script at a certain, but fixed time (07:00 GMT). </p>

</div>
</div>
<a id="a6cab62dea664335f3e32d126c7e295ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cab62dea664335f3e32d126c7e295ad">&#9670;&nbsp;</a></span>createHostlist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void createHostlist </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a list with (Router) hostnames. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*fp</td><td>File pointer to the hostfile filestream </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(void)</dd></dl>
<p>Here a filestream to the hostlist file is given by the referenced parameter '*fp'. The user will enter the amount of routers he wants to be monitored. Because the filestream varible is a reference, this entry are returned to the main function.</p>
<p>Every hostname must not be longer then 10 characters. Characters behnind this border are cut off. The string termination character ('\0') will be added automatically, which makes strings with a maximum length of 11 characters possible.</p>
<p>You will be prompted with a counter index, indicating which number of router you are going to enter at the moment. This is also true, if you use this function for adding more routers to an existing hostlist.</p>
<p>The filestream will be closed by the caller and error handling is done in <a class="el" href="ganysyslogs_8c.html#a217dbf8b442f20279ea00b898af96f52">main()</a>. </p>

</div>
</div>
<a id="a883a01833404b539a610fcd771970c53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a883a01833404b539a610fcd771970c53">&#9670;&nbsp;</a></span>deleteHostList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int deleteHostList </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a217dbf8b442f20279ea00b898af96f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217dbf8b442f20279ea00b898af96f52">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; Option-Switch, number of monitored devices, number of additional devices</p>
<p>&lt; Open user-specific hostfile</p>
<p>&lt; Menue</p>
<p>TODO: eventually close 'fp' here </p>

</div>
</div>
<a id="a3f50841657c2700d6f9ab7efd7323c20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f50841657c2700d6f9ab7efd7323c20">&#9670;&nbsp;</a></span>showHostNames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void showHostNames </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="ganysyslogs_8c.html">ganysyslogs.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
